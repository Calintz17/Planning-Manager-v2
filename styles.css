/* =========================================================
   PALETTE — TU PEUX CHANGER ICI (OPTIONS DE COULEURS)
   ---------------------------------------------------------
   Background (site)        : --bg = #F4E3C1
   Couleur des boutons/tabs : --btn = #1E5631   (BOUTONS/TABS)  <-- TU PEUX MODIFIER ICI
   Couleur du texte         : --text = #2E2E2E  <-- TU PEUX MODIFIER ICI
   Autre couleur (accent)   : --accent = #1C4966 <-- TU PEUX MODIFIER ICI
   Barre Adherence (fill/bg): --adherence-fill = #1C4966 ; --adherence-bg = #FFF7E0  <-- TU PEUX MODIFIER
   Footer text              : #d6d2d2 (plus bas)
   ======================================================= */
:root{
  --bg:#F4E3C1;
  --card:#fff;
  --text:#2E2E2E;
  --muted:#6b7280;
  --border:#e5e7eb;

  /* BOUTONS / TABS — TU PEUX MODIFIER */
  --btn:#1E5631;
  --btn-text:#ffffff;

  /* ACCENT — TU PEUX MODIFIER */
  --accent:#1C4966;

  /* Adherence bar — TU PEUX MODIFIER */
  --adherence-fill:#1C4966;
  --adherence-bg:#FFF7E0;

  /* Alertes */
  --danger:#D94157;
}

/* Base */
*{ box-sizing:border-box }
html, body{ margin:0; background:var(--bg); color:var(--text) }

/* Header & Tabs */
.app-header{
  position:sticky; top:0; z-index:20;
  background:var(--bg);
  border-bottom:1px solid var(--border);
  padding:12px 16px;
}
.site-title{ font-size:16px; margin:0 0 8px 0; font-weight:600 }
.tabs{ display:flex; gap:8px; flex-wrap:wrap }
.tab-btn{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid transparent;
  background:var(--btn); /* COULEUR DES TABS/BOUTONS */
  color:var(--btn-text);
  cursor:pointer;
  font-size:14px;
}
.tab-btn.active{ outline:2px solid var(--accent) }

/* Main */
.app-main{ max-width:1200px; margin:16px auto; padding:0 12px }
.tab-panel{ display:none }
.tab-panel.visible{ display:block }
.panel-card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  box-shadow:0 2px 12px rgba(0,0,0,0.06);
}

/* Footer */
.app-footer{
  max-width:1200px; margin:24px auto 40px; padding:0 12px;
  color:#d6d2d2; text-align:right; /* © Roman Inc. */
}

/* Buttons (generic) */
.primary{
  background:var(--btn); color:var(--btn-text); border:1px solid var(--btn);
  border-radius:10px; padding:10px 14px; cursor:pointer;
}
.secondary{
  background:#fff; color:var(--btn); border:1px solid var(--btn);
  border-radius:10px; padding:10px 14px; cursor:pointer;
}
.ghost{
  background:transparent; color:var(--text); border:1px solid var(--border);
  border-radius:10px; padding:8px 12px; cursor:pointer;
}
.mini{
  padding:6px 10px; border-radius:8px; font-size:12px; cursor:pointer;
}
.mini.danger{
  background:#fff; color:var(--danger); border:1px solid var(--danger);
}

/* Forms */
.field{ display:flex; flex-direction:column; gap:6px; margin-bottom:12px }
.field input, .field select{ height:40px; padding:0 12px; border-radius:10px; border:1px solid var(--border); background:#fff; }
.field.compact span{ font-size:12px; color:var(--muted) }
.field.compact input, .field.compact select{ height:36px }

/* Modal Auth */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.3); display:none; align-items:center; justify-content:center; padding:16px; }
.modal-backdrop.visible{ display:flex }
.modal{
  width:100%; max-width:420px; background:var(--card);
  border:1px solid var(--border); border-radius:16px; padding:20px;
  box-shadow:0 12px 40px rgba(0,0,0,0.2);
}
.modal h3{ margin:0 0 12px 0 }
.error{ color:var(--danger); min-height:20px; margin-top:8px }

/* Responsive (mobile iPhone 13 ok) */
@media (max-width: 480px){
  .site-title{ font-size:14px }
  .tab-btn{ font-size:13px; padding:8px 10px }
  .modal{ padding:16px }
}

/* ===== Attendance ===== */
.settings-bar{
  display:flex; gap:12px; align-items:flex-end; flex-wrap:wrap; margin-bottom:14px;
}
.adherence-wrap{
  background:#fff; border:1px solid var(--border); border-radius:12px;
  padding:12px; margin-bottom:14px;
}
.adherence-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px }
.adherence-title{ font-weight:600 }
.adherence-value{ font-variant-numeric:tabular-nums }
.adherence-bar{
  width:100%; height:14px; border-radius:10px; background:var(--adherence-bg);
  overflow:hidden; border:1px solid var(--border);
}
.adherence-fill{ height:100%; background:var(--adherence-fill); transition:width .3s ease }
.adherence-notes{ color:var(--muted) }

.calendar-wrap{ margin-top:10px }
.warning-row{ min-height:20px; margin:6px 0; color:var(--danger); font-weight:600 }
.calendar-scroll{ overflow-x:auto } /* au besoin si 31 colonnes */
.calendar-table{
  width:100%; border-collapse:separate; border-spacing:0; table-layout:fixed;
  border:1px solid var(--border); border-radius:12px; overflow:hidden;
}
.calendar-table thead th{
  position:sticky; top:0; background:#fff; z-index:1; border-bottom:1px solid var(--border);
  padding:6px; font-size:12px;
}
.calendar-table th.first-col, .calendar-table td.first-col{
  position:sticky; left:0; background:#fff; z-index:2; border-right:1px solid var(--border);
  width:180px; max-width:180px; min-width:180px;
}
.calendar-table td, .calendar-table th{
  border-bottom:1px solid var(--border); border-right:1px solid var(--border);
  text-align:center; padding:6px; font-size:12px;
}
.calendar-table .day-head{
  writing-mode:vertical-rl; transform:rotate(180deg); /* effet 270° */
  height:72px; line-height:1; white-space:nowrap;
}
.cell-present{ background:#f5fff5 }
.cell-pto{ background:#ffecec }

/* v3.2 extras */
.grid-topbar{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px }
.legend{ display:inline-flex; gap:10px; align-items:center; color:var(--muted); margin-top:6px }
.legend-box{ display:inline-block; width:12px; height:12px; border:1px solid var(--border) }
.legend-box.present{ background:#f5fff5 }
.legend-box.pto{ background:#ffecec }
.legend-box.pto-half{ background:linear-gradient(135deg, #ffecec 50%, #fff 50%) }
.req-available{ font-size:10px; color:var(--muted) }
.warn-flag{
  display:inline-block; color:#fff; background:var(--danger);
  border-radius:6px; padding:2px 6px; font-size:11px; font-weight:700;
}

/* ===== Agents Directory ===== */
.agents-topbar{
  display:flex; gap:12px; align-items:flex-end; justify-content:space-between; flex-wrap:wrap; margin-bottom:14px;
}
.agents-actions{ display:flex; gap:8px; align-items:center; }

.agents-table-wrap{ overflow:auto }
.agents-table{
  width:100%; border-collapse:separate; border-spacing:0; table-layout:auto;
  border:1px solid var(--border); border-radius:12px; overflow:hidden;
}
.agents-table th, .agents-table td{
  border-bottom:1px solid var(--border); border-right:1px solid var(--border);
  text-align:center; padding:8px; font-size:13px; background:#fff;
}
.agents-table th:first-child, .agents-table td:first-child{ text-align:left }
.agents-table td .ag-status{ height:32px; border:1px solid var(--border); border-radius:8px; padding:0 8px }
.ag-name{ min-width:180px }
.ag-skill{ width:16px; height:16px }

/* Drawer (PTO) */
.drawer{
  position:fixed; top:0; right:-420px; width:420px; height:100vh; transition:right .25s ease;
  background:#fff; border-left:1px solid var(--border); box-shadow:-8px 0 20px rgba(0,0,0,.08); z-index:50;
}
.drawer.open{ right:0 }
.drawer-inner{ height:100%; display:flex; flex-direction:column }
.drawer-head{
  display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--border);
}
.drawer-content{ padding:12px 16px; overflow:auto }
.drawer-form{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:12px }
.drawer-section{ margin-top:16px }
.list{ padding-left:18px }
.list .muted{ color:var(--muted) }

/* Mini calendar */
.mini-cal{ margin-top:8px }
.mini-cal-grid{
  display:grid; grid-template-columns:repeat(7, 1fr); gap:6px;
}
.mini-cal-cell{
  background:#fff; border:1px solid var(--border); border-radius:8px; padding:8px; text-align:center;
}
.mini-cal-cell.pto{ background:#ffecec }
.mini-cal-cell.pto-half{ background:linear-gradient(135deg, #ffecec 50%, #fff 50%) }

